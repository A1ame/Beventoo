<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>FamilyChat</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase App (SDK v9) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-logo">üí¨</div>
        <div class="splash-title">FamilyChat</div>
        <div class="splash-subtitle">–°–µ–º–µ–π–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</div>
    </div>
    
<!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
<div class="auth-screen" id="authScreen" style="display: none;">
    <div class="auth-container">
        <div class="auth-logo">üí¨</div>
        <h2>FamilyChat</h2>
        <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
        <form id="authForm">
            <input type="text" id="authName" placeholder="–í–∞—à–µ –∏–º—è" required>
            <input type="password" id="authPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
        </form>
        <div class="auth-footer">
            <p><a href="#" id="createAccountLink">–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç</a></p>
        </div>
    </div>
</div>
    
    <!-- –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div class="app" id="app" style="display: none;">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
        <header class="chat-header" id="chatHeader">
            <button class="back-btn" id="backBtn">‚Üê</button>
            <div class="chat-info">
                <div class="chat-avatar" id="chatAvatar">‚≠ê</div>
                <div class="chat-details">
                    <div class="chat-name" id="chatName">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
                    <div class="chat-status" id="chatStatus">–°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π</div>
                </div>
            </div>
            <div class="chat-actions">
                <button class="action-btn call-btn" id="callBtn">üìû</button>
                <button class="action-btn video-btn" id="videoBtn">üìπ</button>
            </div>
        </header>
        <!-- –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
        <div class="contacts-screen" id="contactsScreen">
            <div class="contacts-header">
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar">–ê</div>
                    <div class="user-info">
                        <div class="user-name" id="userName">–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞</div>
                        <div class="user-status" id="userStatus">–í —Å–µ—Ç–∏</div>
                    </div>
                </div>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫..." id="searchInput">
                    <div class="search-icon">üîç</div>
                </div>
                <div class="tabs">
                    <button class="tab active" data-tab="chats">–ß–∞—Ç—ã</button>
                    <button class="tab" data-tab="friends">–î—Ä—É–∑—å—è</button>
                </div>
            </div>
            <div class="contacts-list" id="contactsList">
                <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                <div class="contact-item" data-contact="favorite">
                    <div class="contact-avatar">‚≠ê</div>
                    <div class="contact-info">
                        <div class="contact-name">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
                        <div class="contact-last-message">–î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–∑–µ–π</div>
                    </div>
                    <div class="contact-meta">
                        <div class="contact-time">–°–µ–π—á–∞—Å</div>
                    </div>
                </div>
            </div>
            <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ -->
            <button class="fab" id="addFriendBtn">+</button>
        </div>
        <!-- –≠–∫—Ä–∞–Ω —á–∞—Ç–∞ -->
        <div class="chat-screen" id="chatScreen" style="display: none;">
            <div class="messages-container" id="messagesContainer">
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <!-- –û–±–ª–∞—Å—Ç—å –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è -->
            <div class="message-input-container">
                <button class="attach-btn" id="attachBtn">üìé</button>
                <div class="input-wrapper">
                    <textarea class="message-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." id="messageInput" rows="1"></textarea>
                    <button class="emoji-btn" id="emojiBtn">üòä</button>
                </div>
                <button class="send-btn" id="sendBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M2 21l21-9L2 3v7l15 2-15 2v7z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ -->
    <div class="modal" id="addFriendModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</h3>
                <button class="close-btn" id="closeModalBtn">√ó</button>
            </div>
            <div class="modal-body">
                <input type="text" id="friendUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="modal-input">
                <input type="text" id="friendCode" placeholder="–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è" class="modal-input">
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="addBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification">
        <div class="notification-content" id="notificationContent"></div>
    </div>
    <script src="script.js"></script>
</body>
</html>